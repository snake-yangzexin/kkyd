<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes">
  <title></title>
</head>
<script type="text/javascript" src ="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
  function onBridgeReady() {
    WeixinJSBridge.invoke('getBrandWCPayRequest', {
      "appId" : "wxb3454bb2020a3499",//"wx2421b1c4370ec43b", //公众号名称，由商户传入   
      "timeStamp" : "1471506570774",//"1395712654", //时间戳，自1970年以来的秒数   
      "nonceStr" : "1679091c5a880faf6fb5e6087eb1b2dc",//"e61463f8efa94090b1f366cccfbbb444", //随机串   
      "package" : "prepay_id=wx20160818154933a2eca4e4360365176024",//"prepay_id=u802345jgfjsdfgsdg888",
      "signType" : "MD5",//"MD5", //微信签名方式:   
      "paySign" : "E53F67E376A54ACD61A0D6C9592F8E60",//"70EA570631E4BB79628FBCA90534C63FF7FADD89" //微信签名 
    }, function(res) {  
      alert(res.err_msg);
      if (res.err_msg == "get_brand_wcpay_request:ok") {
        alert("支付成功");
      }
      if (res.err_msg == "get_brand_wcpay_request:cancel") {
        alert("交易取消");
      }
      if (res.err_msg == "get_brand_wcpay_request:fail") {
        alert("支付失败");
      }
    });
  }
 
  function callPay() {
    if (typeof WeixinJSBridge == "undefined") {
      if (document.addEventListener) {
      document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
      } else if (document.attachEvent) {
      document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
      document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
      }
    } else {
      onBridgeReady();
    }
  }
  
  callPay();
</script>
<body>
       <input type="button" onClick="onBridgeReady()" value="Button" style="display:block; height:30px; width:300px; margin:40px auto;"/>
</body>
</html>